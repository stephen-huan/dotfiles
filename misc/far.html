<!DOCTYPE html>
<html lang="en" class="sidebar-visible no-js light">
  <head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8" />
    <title>far - dotfiles</title>

    <!-- Custom HTML head -->

    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#ffffff" />

    <link rel="icon" href="../favicon.svg" />
    <link rel="shortcut icon" href="../favicon.png" />
    <link rel="stylesheet" href="../css/variables.css" />
    <link rel="stylesheet" href="../css/general.css" />
    <link rel="stylesheet" href="../css/chrome.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

    <!-- Fonts -->
    <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css" />
    <link rel="stylesheet" href="../fonts/fonts.css" />

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../highlight.css" />
    <link rel="stylesheet" href="../tomorrow-night.css" />
    <link rel="stylesheet" href="../ayu-highlight.css" />

    <!-- Custom theme stylesheets -->
  </head>
  <body>
    <div id="body-container">
      <!-- Provide site root to javascript -->
      <script>
        var path_to_root = "../";
        var default_theme = window.matchMedia("(prefers-color-scheme: dark)")
          .matches
          ? "navy"
          : "light";
      </script>

      <!-- Work around some values being stored in localStorage wrapped in quotes -->
      <script>
        try {
          var theme = localStorage.getItem("mdbook-theme");
          var sidebar = localStorage.getItem("mdbook-sidebar");

          if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem(
              "mdbook-theme",
              theme.slice(1, theme.length - 1),
            );
          }

          if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem(
              "mdbook-sidebar",
              sidebar.slice(1, sidebar.length - 1),
            );
          }
        } catch (e) {}
      </script>

      <!-- Set the theme before any content is loaded, prevents flash -->
      <script>
        var theme;
        try {
          theme = localStorage.getItem("mdbook-theme");
        } catch (e) {}
        if (theme === null || theme === undefined) {
          theme = default_theme;
        }
        var html = document.querySelector("html");
        html.classList.remove("no-js");
        html.classList.remove("light");
        html.classList.add(theme);
        html.classList.add("js");
      </script>

      <!-- Hide / unhide sidebar before it is displayed -->
      <script>
        var html = document.querySelector("html");
        var sidebar = null;
        if (document.body.clientWidth >= 1080) {
          try {
            sidebar = localStorage.getItem("mdbook-sidebar");
          } catch (e) {}
          sidebar = sidebar || "visible";
        } else {
          sidebar = "hidden";
        }
        html.classList.remove("sidebar-visible");
        html.classList.add("sidebar-" + sidebar);
      </script>

      <nav id="sidebar" class="sidebar" aria-label="Table of contents">
        <div class="sidebar-scrollbox">
          <ol class="chapter">
            <li class="chapter-item expanded affix">
              <a href="../index.html">home</a>
            </li>
            <li class="chapter-item expanded">
              <a href="../dotfiles.html"
                ><strong aria-hidden="true">1.</strong> dotfiles management</a
              >
            </li>
            <li class="chapter-item expanded affix"></li>
            <li class="part-title">os</li>
            <li class="chapter-item expanded">
              <a href="../os/nixos/index.html"
                ><strong aria-hidden="true">2.</strong> NixOS</a
              >
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <a href="../os/nixos/nix.html"
                    ><strong aria-hidden="true">2.1.</strong> Nix</a
                  >
                </li>
                <li class="chapter-item expanded">
                  <a href="../os/nixos/nixpkgs.html"
                    ><strong aria-hidden="true">2.2.</strong> Nixpkgs</a
                  >
                </li>
                <li class="chapter-item expanded">
                  <a href="../os/nixos/nixos/index.html"
                    ><strong aria-hidden="true">2.3.</strong> NixOS</a
                  >
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../os/nixos/nixos/home-manager.html"
                        ><strong aria-hidden="true">2.3.1.</strong>
                        home-manager</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../os/nixos/nixos/impermanence.html"
                        ><strong aria-hidden="true">2.3.2.</strong>
                        impermanence</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../os/nixos/nixos/modules.html"
                        ><strong aria-hidden="true">2.3.3.</strong> modules</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <a href="../os/nixos/flakes.html"
                    ><strong aria-hidden="true">2.4.</strong> Flakes</a
                  >
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <a href="../os/arch/index.html"
                ><strong aria-hidden="true">3.</strong> Arch Linux</a
              >
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <a href="../os/arch/install.html"
                    ><strong aria-hidden="true">3.1.</strong> install</a
                  >
                </li>
                <li class="chapter-item expanded">
                  <a href="../os/arch/post-install/index.html"
                    ><strong aria-hidden="true">3.2.</strong> post-install</a
                  >
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../os/arch/post-install/audio.html"
                        ><strong aria-hidden="true">3.2.1.</strong> audio</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../os/arch/post-install/clipboard.html"
                        ><strong aria-hidden="true">3.2.2.</strong> clipboard</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../os/arch/post-install/gpu.html"
                        ><strong aria-hidden="true">3.2.3.</strong> gpu</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../os/arch/post-install/internet.html"
                        ><strong aria-hidden="true">3.2.4.</strong> internet</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../os/arch/post-install/input.html"
                        ><strong aria-hidden="true">3.2.5.</strong> input</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../os/arch/post-install/screen-capture.html"
                        ><strong aria-hidden="true">3.2.6.</strong> screen
                        capture</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../os/arch/post-install/security.html"
                        ><strong aria-hidden="true">3.2.7.</strong> security</a
                      >
                    </li>
                    <li class="spacer"></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded"></li>
            <li class="part-title">pkgs</li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">4.</strong> applications</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.1.</strong> audio</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/audio/cider.html"
                        ><strong aria-hidden="true">4.1.1.</strong> cider</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/audio/cmus.html"
                        ><strong aria-hidden="true">4.1.2.</strong> cmus</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.2.</strong> display-managers
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/display-managers/sddm.html"
                        ><strong aria-hidden="true">4.2.1.</strong> sddm</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.3.</strong> editors</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/editors/neovim.html"
                        ><strong aria-hidden="true">4.3.1.</strong> neovim</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.4.</strong> emulators</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/emulators/wine.html"
                        ><strong aria-hidden="true">4.4.1.</strong> wine</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.5.</strong> file-managers
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/file-managers/ranger.html"
                        ><strong aria-hidden="true">4.5.1.</strong> ranger</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.6.</strong> misc</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/misc/mupdf.html"
                        ><strong aria-hidden="true">4.6.1.</strong> mupdf</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/misc/redshift.html"
                        ><strong aria-hidden="true">4.6.2.</strong> redshift</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/misc/sioyek.html"
                        ><strong aria-hidden="true">4.6.3.</strong> sioyek</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/misc/zathura.html"
                        ><strong aria-hidden="true">4.6.4.</strong> zathura</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.7.</strong> networking</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <div>
                        <strong aria-hidden="true">4.7.1.</strong> mailreaders
                      </div>
                    </li>
                    <li>
                      <ol class="section">
                        <li class="chapter-item expanded">
                          <a
                            href="../pkgs/applications/networking/mailreaders/neomutt.html"
                            ><strong aria-hidden="true">4.7.1.1.</strong>
                            neomutt</a
                          >
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.8.</strong> terminal-emulators
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../pkgs/applications/terminal-emulators/alacritty.html"
                        ><strong aria-hidden="true">4.8.1.</strong> alacritty</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.9.</strong> version-management
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/version-management/git.html"
                        ><strong aria-hidden="true">4.9.1.</strong> git</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../pkgs/applications/version-management/git-credential-manager.html"
                        ><strong aria-hidden="true">4.9.2.</strong>
                        git-credential-manager</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.10.</strong> window-managers
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/window-managers/i3.html"
                        ><strong aria-hidden="true">4.10.1.</strong> i3</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/applications/window-managers/picom.html"
                        ><strong aria-hidden="true">4.10.2.</strong> picom</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">5.</strong> data</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">5.1.</strong> fonts</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/data/fonts/ipafont.html"
                        ><strong aria-hidden="true">5.1.1.</strong> ipafont</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">6.</strong> development</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">6.1.</strong> libraries</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/development/libraries/fontconfig.html"
                        ><strong aria-hidden="true">6.1.1.</strong>
                        fontconfig</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/development/libraries/pipewire.html"
                        ><strong aria-hidden="true">6.1.2.</strong> pipewire</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">7.</strong> misc</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">7.1.</strong> screensavers
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/misc/screensavers/xss-lock.html"
                        ><strong aria-hidden="true">7.1.1.</strong> xss-lock</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">8.</strong> os-specific</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">8.1.</strong> linux</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/os-specific/linux/alsa-project.html"
                        ><strong aria-hidden="true">8.1.1.</strong>
                        alsa-project</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/os-specific/linux/bluez.html"
                        ><strong aria-hidden="true">8.1.2.</strong> bluez</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/os-specific/linux/iwd.html"
                        ><strong aria-hidden="true">8.1.3.</strong> iwd</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/os-specific/linux/plymouth.html"
                        ><strong aria-hidden="true">8.1.4.</strong> plymouth</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/os-specific/linux/tuxedo-keyboard.html"
                        ><strong aria-hidden="true">8.1.5.</strong>
                        tuxedo-keyboard</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">9.</strong> servers</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">9.1.</strong> x11</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/servers/x11/xorg.html"
                        ><strong aria-hidden="true">9.1.1.</strong> xorg</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <a href="../pkgs/servers/pulseaudio.html"
                    ><strong aria-hidden="true">9.2.</strong> pulseaudio</a
                  >
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">10.</strong> shells</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <a href="../pkgs/shells/fish.html"
                    ><strong aria-hidden="true">10.1.</strong> fish</a
                  >
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">11.</strong> tools</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">11.1.</strong> audio</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/audio/playerctl.html"
                        ><strong aria-hidden="true">11.1.1.</strong>
                        playerctl</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">11.2.</strong> inputmethods
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/inputmethods/ibus.html"
                        ><strong aria-hidden="true">11.2.1.</strong> ibus</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <div>
                        <strong aria-hidden="true">11.2.2.</strong> ibus-engines
                      </div>
                    </li>
                    <li>
                      <ol class="section">
                        <li class="chapter-item expanded">
                          <a
                            href="../pkgs/tools/inputmethods/ibus-engines/ibus-mozc.html"
                            ><strong aria-hidden="true">11.2.2.1.</strong>
                            ibus-mozc</a
                          >
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">11.3.</strong> misc</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/misc/android-tools.html"
                        ><strong aria-hidden="true">11.3.1.</strong>
                        android-tools</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/misc/clipster.html"
                        ><strong aria-hidden="true">11.3.2.</strong> clipster</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/misc/grub.html"
                        ><strong aria-hidden="true">11.3.3.</strong> grub</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/misc/plocate.html"
                        ><strong aria-hidden="true">11.3.4.</strong> plocate</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/misc/qmk.html"
                        ><strong aria-hidden="true">11.3.5.</strong> qmk</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/misc/tmux.html"
                        ><strong aria-hidden="true">11.3.6.</strong> tmux</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/misc/yubikey-manager.html"
                        ><strong aria-hidden="true">11.3.7.</strong>
                        yubikey-manager</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">11.4.</strong> networking
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/networking/dhcp.html"
                        ><strong aria-hidden="true">11.4.1.</strong> dhcp</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/networking/dhcpcd.html"
                        ><strong aria-hidden="true">11.4.2.</strong> dhcpcd</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../pkgs/tools/networking/globalprotect-openconnect.html"
                        ><strong aria-hidden="true">11.4.3.</strong>
                        globalprotect-openconnect</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/networking/ifplugd.html"
                        ><strong aria-hidden="true">11.4.4.</strong> ifplugd</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/networking/mullvad.html"
                        ><strong aria-hidden="true">11.4.5.</strong> mullvad</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/networking/openconnect.html"
                        ><strong aria-hidden="true">11.4.6.</strong>
                        openconnect</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/networking/openresolv.html"
                        ><strong aria-hidden="true">11.4.7.</strong>
                        openresolv</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/networking/unbound.html"
                        ><strong aria-hidden="true">11.4.8.</strong> unbound</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">11.5.</strong> package-management
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/package-management/conda.html"
                        ><strong aria-hidden="true">11.5.1.</strong> conda</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/package-management/micromamba.html"
                        ><strong aria-hidden="true">11.5.2.</strong>
                        micromamba</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/package-management/nix.html"
                        ><strong aria-hidden="true">11.5.3.</strong> nix</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/package-management/pacman.html"
                        ><strong aria-hidden="true">11.5.4.</strong> pacman</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">11.6.</strong> security</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/security/browserpass.html"
                        ><strong aria-hidden="true">11.6.1.</strong>
                        browerpass</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/security/gnupg.html"
                        ><strong aria-hidden="true">11.6.2.</strong> gnupg</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/security/pass/index.html"
                        ><strong aria-hidden="true">11.6.3.</strong> pass</a
                      >
                    </li>
                    <li>
                      <ol class="section">
                        <li class="chapter-item expanded">
                          <div>
                            <strong aria-hidden="true">11.6.3.1.</strong>
                            extensions
                          </div>
                        </li>
                        <li>
                          <ol class="section">
                            <li class="chapter-item expanded">
                              <a
                                href="../pkgs/tools/security/pass/extensions/otp.html"
                                ><strong aria-hidden="true">11.6.3.1.1.</strong>
                                pass-otp</a
                              >
                            </li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">11.7.</strong> typesetting
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../pkgs/tools/typesetting/tectonic.html"
                        ><strong aria-hidden="true">11.7.1.</strong> tectonic</a
                      >
                    </li>
                    <li class="spacer"></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded"></li>
            <li class="part-title">misc</li>
            <li class="chapter-item expanded">
              <a href="../misc/pace.html"
                ><strong aria-hidden="true">12.</strong> pace</a
              >
            </li>
            <li class="chapter-item expanded">
              <a href="../misc/far.html" class="active"
                ><strong aria-hidden="true">13.</strong> far</a
              >
            </li>
          </ol>
        </div>
        <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
      </nav>

      <!-- Track and set sidebar scroll position -->
      <script>
        var sidebarScrollbox = document.querySelector(
          "#sidebar .sidebar-scrollbox",
        );
        sidebarScrollbox.addEventListener(
          "click",
          function (e) {
            if (e.target.tagName === "A") {
              sessionStorage.setItem(
                "sidebar-scroll",
                sidebarScrollbox.scrollTop,
              );
            }
          },
          { passive: true },
        );
        var sidebarScrollTop = sessionStorage.getItem("sidebar-scroll");
        sessionStorage.removeItem("sidebar-scroll");
        if (sidebarScrollTop) {
          // preserve sidebar scroll position when navigating via links within sidebar
          sidebarScrollbox.scrollTop = sidebarScrollTop;
        } else {
          // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
          var activeSection = document.querySelector("#sidebar .active");
          if (activeSection) {
            activeSection.scrollIntoView({ block: "center" });
          }
        }
      </script>

      <div id="page-wrapper" class="page-wrapper">
        <div class="page">
          <div id="menu-bar-hover-placeholder"></div>
          <div id="menu-bar" class="menu-bar sticky">
            <div class="left-buttons">
              <button
                id="sidebar-toggle"
                class="icon-button"
                type="button"
                title="Toggle Table of Contents"
                aria-label="Toggle Table of Contents"
                aria-controls="sidebar"
              >
                <i class="fa fa-bars"></i>
              </button>
              <button
                id="theme-toggle"
                class="icon-button"
                type="button"
                title="Change theme"
                aria-label="Change theme"
                aria-haspopup="true"
                aria-expanded="false"
                aria-controls="theme-list"
              >
                <i class="fa fa-paint-brush"></i>
              </button>
              <ul
                id="theme-list"
                class="theme-popup"
                aria-label="Themes"
                role="menu"
              >
                <li role="none">
                  <button role="menuitem" class="theme" id="light">
                    Light
                  </button>
                </li>
                <li role="none">
                  <button role="menuitem" class="theme" id="rust">Rust</button>
                </li>
                <li role="none">
                  <button role="menuitem" class="theme" id="coal">Coal</button>
                </li>
                <li role="none">
                  <button role="menuitem" class="theme" id="navy">Navy</button>
                </li>
                <li role="none">
                  <button role="menuitem" class="theme" id="ayu">Ayu</button>
                </li>
              </ul>
              <button
                id="search-toggle"
                class="icon-button"
                type="button"
                title="Search. (Shortkey: s)"
                aria-label="Toggle Searchbar"
                aria-expanded="false"
                aria-keyshortcuts="S"
                aria-controls="searchbar"
              >
                <i class="fa fa-search"></i>
              </button>
            </div>

            <h1 class="menu-title">dotfiles</h1>

            <div class="right-buttons">
              <a
                href="../print.html"
                title="Print this book"
                aria-label="Print this book"
              >
                <i id="print-button" class="fa fa-print"></i>
              </a>
              <a
                href="https://github.com/stephen-huan/dotfiles"
                title="Git repository"
                aria-label="Git repository"
              >
                <i id="git-repository-button" class="fa fa-code-fork"></i>
              </a>
              <a
                href="https://github.com/stephen-huan/dotfiles/edit/master/src/misc/far.md"
                title="Suggest an edit"
                aria-label="Suggest an edit"
              >
                <i id="git-edit-button" class="fa fa-edit"></i>
              </a>
            </div>
          </div>

          <div id="search-wrapper" class="hidden">
            <form id="searchbar-outer" class="searchbar-outer">
              <input
                type="search"
                id="searchbar"
                name="searchbar"
                placeholder="Search this book ..."
                aria-controls="searchresults-outer"
                aria-describedby="searchresults-header"
              />
            </form>
            <div id="searchresults-outer" class="searchresults-outer hidden">
              <div id="searchresults-header" class="searchresults-header"></div>
              <ul id="searchresults"></ul>
            </div>
          </div>

          <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
          <script>
            document
              .getElementById("sidebar-toggle")
              .setAttribute("aria-expanded", sidebar === "visible");
            document
              .getElementById("sidebar")
              .setAttribute("aria-hidden", sidebar !== "visible");
            Array.from(document.querySelectorAll("#sidebar a")).forEach(
              function (link) {
                link.setAttribute("tabIndex", sidebar === "visible" ? 0 : -1);
              },
            );
          </script>

          <div id="content" class="content">
            <main>
              <h1 id="a-fast-re-write-of-par---far">
                <a class="header" href="#a-fast-re-write-of-par---far"
                  >A (f)ast re-write of p(ar) - far</a
                >
              </h1>
              <p>
                <em
                  >This is an old plaintext copy of the post on
                  <a href="https://cgdct.moe/blog/far/">my blog</a>.</em
                >
              </p>
              <p>
                <a href="http://www.nicemice.net/par/"><code>par</code></a> is a
                formatting tool that inserts line breaks to make the length of
                each line less than a set number of characters, usually 79
                (terminals historically have 80 width). Unfortunately,
                <code>par</code> is incredibly complicated and introduces random
                whitespace. So I made my own.
              </p>
              <p>
                For <code>far</code> to make the paragraphs look good, it
                minimizes the variance of each line. However, it's constrained
                to use the fewest number of lines possible, so it doesn't
                generate really short lines. Finally, it ignores the last line
                when minimizing variance and tries to make the last line shorter
                than average, because a typical paragraph usually looks better
                if the last line is shorter. To summarize,
              </p>
              <ol>
                <li>Minimize the variance of the lengths of each line ...</li>
                <li>
                  ... subject to the constraint that the number of lines is
                  smallest
                </li>
                <li>
                  Ignore the last line, while making sure it's shorter than
                  average
                </li>
              </ol>
              <p>
                <code>far</code> uses dynamic programming to minimize variance.
                It tokenizes the paragraph by splitting on whitespace, and each
                subproblem in the dynamic program is a suffix of this token
                list.
              </p>
              <pre><code class="language-python">Var[X] = E[X]^2 - E[X]^2 = sum(x^2 for x in X)/len(X) - (sum(X)/len(X))^2
</code></pre>
              <p>
                The length <code>len(X)</code> is constant because of the
                smallest number of lines constraint, and so is the sum because
                the sum of the line lengths is determined by two things: the
                characters in the tokens and the number of spaces introduced by
                merging two tokens (combining the words &quot;hello&quot; and
                &quot;world&quot; onto the same line gives &quot;hello
                world&quot;, with an additional space). The characters stay the
                same, and the number of spaces is fixed if the number of lines
                is fixed. Each token starts off as its own line, and each merge
                reduces the number of lines by 1, so if two solutions have the
                same number of lines, they must have done the same number of
                merges.
              </p>
              <p>
                Thus, minimizing <code>Var[X]</code> is equivalent to minimizing
                the sum of squares <code>sum(x^2 for x in X)</code> if the
                number of lines is fixed. Recall that we are trying to minimize
                variance over the entire paragraph. The overall paragraph has
                some mean value u. Each line will contribute
                <code>(x - u)^2</code> to the overall paragraph's variance. So
                we want to minimize:
              </p>
              <pre><code>(x1 - u)^2 + (x2 - u)^2 + ... + (xn - u)^2
</code></pre>
              <p>
                where xi is the length of a line and we know that
                <code>x1 + x2 + ... + xn</code> is constant because of the above
                logic (<code>sum(X)</code> is constant). Expanding,
              </p>
              <pre><code>[x1^2 - 2u x1 + u^2] + [x2^2 - 2u x2 + u^2] + ... + [xn^2 - 2u xn + u^2]
u^2 is a constant, so we can discard those terms and reorganize into
[x1^2 + x2^2 + ... + xn^2] - 2u[x1 + x2 + ... + xn].
</code></pre>
              <p>
                The last term is a constant, so minimizing the variance of the
                overall paragraph is equivalent to minimizing the variance for a
                suffix of the paragraph (both are minimizing the sum of
                squares). This is just the variance of the subproblem, so the
                dynamic programming is valid since optimal substructure holds.
                In practice, I skip calculating variance entirely and simply
                minimize the sum of squares. I also do dynamic programming on
                the variance of each <em>prefix</em>, so that I can easily
                ignore the last line.
              </p>
              <p>
                That's it! The algorithm runs in <code>O(NK)</code> where N is
                the number of characters in the input text and K is the desired
                width. Since K is usually fixed to some small constant (79, 72,
                etc.), this is essentially linear in N and I suspect most of the
                running time is bottlenecked by just I/O (reading the input text
                and printing out the formatted text). Running with a width of 79
                on a 1MB file with over 20,000 lines takes under 200
                milliseconds. For 100MB, <code>fmt</code> takes around 11.9
                seconds, <code>par</code> takes 15.7, and <code>far</code> takes
                16.6. So <code>far</code> is slightly slower than the others,
                but certainly not enough to be noticeable for
                &quot;reasonable&quot; inputs, especially if output is
                redirected into a file rather than displayed to terminal.
              </p>
              <h2 id="examples">
                <a class="header" href="#examples">Examples</a>
              </h2>
              <p>original paragraph:</p>
              <pre><code>xxxxx xxx xxx xxxx xxxxxxxxx xx x xxxxxxxxx x xxxx xxxx xxxxxxx xxxxxxxx xxx
xxxxxxxxx xxxxxxxx xx xx xxxxx xxxxx xxxx xx x xxxx xx xxxxxxxx xxxxxxxx xxxx
xxx xxxx xxxx xxx xxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxx xxx xxxxx xx xxxx x xxxx
xxxxxxxx xxxx xxxx xx xxxxx xxxx xxxxx xxxx xxxxxxxxx xxx xxxxxxxxxxx xxxxxx
xxx xxxxxxxxx xxxx xxxx xx x xx xxxx xxx xxxx xx xxx xxx xxxxxxxxxxx xxxx xxxxx
x xxxxx xxxxxxx xxxxxxx xx xx xxxxxx xx xxxxx
</code></pre>
              <p><code>fmt -w 72</code> (greedy algorithm):</p>
              <pre><code>xxxxx xxx xxx xxxx xxxxxxxxx xx x xxxxxxxxx x xxxx xxxx xxxxxxx xxxxxxxx
xxx xxxxxxxxx xxxxxxxx xx xx xxxxx xxxxx xxxx xx x xxxx xx xxxxxxxx
xxxxxxxx xxxx xxx xxxx xxxx xxx xxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxx xxx
xxxxx xx xxxx x xxxx xxxxxxxx xxxx xxxx xx xxxxx xxxx xxxxx xxxx
xxxxxxxxx xxx xxxxxxxxxxx xxxxxx xxx xxxxxxxxx xxxx xxxx xx x xx xxxx
xxx xxxx xx xxx xxx xxxxxxxxxxx xxxx xxxxx x xxxxx xxxxxxx xxxxxxx xx xx
xxxxxx xx xxxxx
</code></pre>
              <p>
                <code>par 72</code> (with <code>PARINIT</code> set to
                <code>rTbgqR B=.,?'_A_a_@ Q=_s&gt;|</code>):
              </p>
              <pre><code>xxxxx xxx xxx xxxx xxxxxxxxx xx x xxxxxxxxx x xxxx xxxx xxxxxxx xxxxxxxx
xxx xxxxxxxxx xxxxxxxx xx xx xxxxx xxxxx xxxx xx x xxxx xx xxxxxxxx
xxxxxxxx xxxx xxx xxxx xxxx xxx xxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxx
xxx xxxxx xx xxxx x xxxx xxxxxxxx xxxx xxxx xx xxxxx xxxx xxxxx xxxx
xxxxxxxxx xxx xxxxxxxxxxx xxxxxx xxx xxxxxxxxx xxxx xxxx xx x xx xxxx
xxx xxxx xx xxx xxx xxxxxxxxxxx xxxx xxxxx x xxxxx xxxxxxx xxxxxxx xx xx
xxxxxx xx xxxxx
</code></pre>
              <p><code>far 72</code>:</p>
              <pre><code>xxxxx xxx xxx xxxx xxxxxxxxx xx x xxxxxxxxx x xxxx xxxx xxxxxxx
xxxxxxxx xxx xxxxxxxxx xxxxxxxx xx xx xxxxx xxxxx xxxx xx x xxxx
xx xxxxxxxx xxxxxxxx xxxx xxx xxxx xxxx xxx xxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxx xxx xxxxx xx xxxx x xxxx xxxxxxxx xxxx xxxx xx xxxxx
xxxx xxxxx xxxx xxxxxxxxx xxx xxxxxxxxxxx xxxxxx xxx xxxxxxxxx
xxxx xxxx xx x xx xxxx xxx xxxx xx xxx xxx xxxxxxxxxxx xxxx xxxxx
x xxxxx xxxxxxx xxxxxxx xx xx xxxxxx xx xxxxx
</code></pre>
              <p>
                Looking at the output of the greedy algorithm, because it always
                forms a line if it's possible, it creates highly variable line
                lengths. For example, there are many &quot;valleys&quot; where a
                line is shorter than the lines adjacent to it, like lines 2 and
                lines 4, giving the overall paragraph a jagged appearance.
              </p>
              <p>
                <code>par</code> improves on <code>fmt</code>, but still creates
                a single large valley. Finally, I would argue that
                <code>far</code> creates the most aesthetically pleasing
                paragraph because it minimizes the variance, creating the
                smoothest paragraph edge.
              </p>
              <p>
                It's probably possible to modify <code>PARINIT</code> for
                <code>par</code> to work properly on this example, and in
                general <code>par</code> works quite well, but it's hard to work
                through the documentation to find precisely what to do and the
                recommended <code>PARINIT</code> in the man page should work
                well. <code>far</code> works well &quot;out of the box&quot; and
                for better or for worse, only has a single configuration
                parameter --- width.
              </p>
              <h2 id="uses"><a class="header" href="#uses">Uses</a></h2>
              <p>
                This program is pretty useful whenever writing plaintext in a
                monospace text editor, e.g. when editing LaTeX, markdown files,
                college essays, and emails. It's especially useful in
                <code>vim</code>, which lets you set the option
                <code>'formatprg'</code> so the operator <code>gq</code> formats
                using the external program.
              </p>
            </main>

            <nav class="nav-wrapper" aria-label="Page navigation">
              <!-- Mobile navigation buttons -->
              <a
                rel="prev"
                href="../misc/pace.html"
                class="mobile-nav-chapters previous"
                title="Previous chapter"
                aria-label="Previous chapter"
                aria-keyshortcuts="Left"
              >
                <i class="fa fa-angle-left"></i>
              </a>

              <div style="clear: both"></div>
            </nav>
          </div>
        </div>

        <nav class="nav-wide-wrapper" aria-label="Page navigation">
          <a
            rel="prev"
            href="../misc/pace.html"
            class="nav-chapters previous"
            title="Previous chapter"
            aria-label="Previous chapter"
            aria-keyshortcuts="Left"
          >
            <i class="fa fa-angle-left"></i>
          </a>
        </nav>
      </div>

      <script>
        window.playground_copyable = true;
      </script>

      <script src="../elasticlunr.min.js"></script>
      <script src="../mark.min.js"></script>
      <script src="../searcher.js"></script>

      <script src="../clipboard.min.js"></script>
      <script src="../highlight.js"></script>
      <script src="../book.js"></script>

      <!-- Custom JS scripts -->
    </div>
  </body>
</html>
