<!DOCTYPE html>
<html lang="en" class="sidebar-visible no-js light">
  <head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8" />
    <title>neomutt - dotfiles</title>

    <!-- Custom HTML head -->

    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#ffffff" />

    <link rel="icon" href="../../../../favicon.svg" />
    <link rel="shortcut icon" href="../../../../favicon.png" />
    <link rel="stylesheet" href="../../../../css/variables.css" />
    <link rel="stylesheet" href="../../../../css/general.css" />
    <link rel="stylesheet" href="../../../../css/chrome.css" />
    <link rel="stylesheet" href="../../../../css/print.css" media="print" />

    <!-- Fonts -->
    <link
      rel="stylesheet"
      href="../../../../FontAwesome/css/font-awesome.css"
    />
    <link rel="stylesheet" href="../../../../fonts/fonts.css" />

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../../../highlight.css" />
    <link rel="stylesheet" href="../../../../tomorrow-night.css" />
    <link rel="stylesheet" href="../../../../ayu-highlight.css" />

    <!-- Custom theme stylesheets -->
  </head>
  <body>
    <div id="body-container">
      <!-- Provide site root to javascript -->
      <script>
        var path_to_root = "../../../../";
        var default_theme = window.matchMedia("(prefers-color-scheme: dark)")
          .matches
          ? "navy"
          : "light";
      </script>

      <!-- Work around some values being stored in localStorage wrapped in quotes -->
      <script>
        try {
          var theme = localStorage.getItem("mdbook-theme");
          var sidebar = localStorage.getItem("mdbook-sidebar");

          if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem(
              "mdbook-theme",
              theme.slice(1, theme.length - 1),
            );
          }

          if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem(
              "mdbook-sidebar",
              sidebar.slice(1, sidebar.length - 1),
            );
          }
        } catch (e) {}
      </script>

      <!-- Set the theme before any content is loaded, prevents flash -->
      <script>
        var theme;
        try {
          theme = localStorage.getItem("mdbook-theme");
        } catch (e) {}
        if (theme === null || theme === undefined) {
          theme = default_theme;
        }
        var html = document.querySelector("html");
        html.classList.remove("no-js");
        html.classList.remove("light");
        html.classList.add(theme);
        html.classList.add("js");
      </script>

      <!-- Hide / unhide sidebar before it is displayed -->
      <script>
        var html = document.querySelector("html");
        var sidebar = null;
        if (document.body.clientWidth >= 1080) {
          try {
            sidebar = localStorage.getItem("mdbook-sidebar");
          } catch (e) {}
          sidebar = sidebar || "visible";
        } else {
          sidebar = "hidden";
        }
        html.classList.remove("sidebar-visible");
        html.classList.add("sidebar-" + sidebar);
      </script>

      <nav id="sidebar" class="sidebar" aria-label="Table of contents">
        <div class="sidebar-scrollbox">
          <ol class="chapter">
            <li class="chapter-item expanded affix">
              <a href="../../../../index.html">home</a>
            </li>
            <li class="chapter-item expanded">
              <a href="../../../../dotfiles.html"
                ><strong aria-hidden="true">1.</strong> dotfiles management</a
              >
            </li>
            <li class="chapter-item expanded affix"></li>
            <li class="part-title">os</li>
            <li class="chapter-item expanded">
              <a href="../../../../os/nixos/index.html"
                ><strong aria-hidden="true">2.</strong> NixOS</a
              >
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">2.1.</strong> Nix expression
                    language
                  </div>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">2.2.</strong> nixpkgs</div>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">2.3.</strong> NixOS</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <div>
                        <strong aria-hidden="true">2.3.1.</strong> home-manager
                      </div>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <a href="../../../../os/arch/index.html"
                ><strong aria-hidden="true">3.</strong> Arch Linux</a
              >
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <a href="../../../../os/arch/install.html"
                    ><strong aria-hidden="true">3.1.</strong> install</a
                  >
                </li>
                <li class="chapter-item expanded">
                  <a href="../../../../os/arch/post-install/index.html"
                    ><strong aria-hidden="true">3.2.</strong> post-install</a
                  >
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../os/arch/post-install/audio.html"
                        ><strong aria-hidden="true">3.2.1.</strong> audio</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../os/arch/post-install/clipboard.html"
                        ><strong aria-hidden="true">3.2.2.</strong> clipboard</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../os/arch/post-install/gpu.html"
                        ><strong aria-hidden="true">3.2.3.</strong> gpu</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../os/arch/post-install/internet.html"
                        ><strong aria-hidden="true">3.2.4.</strong> internet</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../os/arch/post-install/input.html"
                        ><strong aria-hidden="true">3.2.5.</strong> input</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../os/arch/post-install/screen-capture.html"
                        ><strong aria-hidden="true">3.2.6.</strong> screen
                        capture</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../os/arch/post-install/security.html"
                        ><strong aria-hidden="true">3.2.7.</strong> security</a
                      >
                    </li>
                    <li class="spacer"></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded"></li>
            <li class="part-title">pkgs</li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">4.</strong> applications</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.1.</strong> audio</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/applications/audio/cider.html"
                        ><strong aria-hidden="true">4.1.1.</strong> cider</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/applications/audio/cmus.html"
                        ><strong aria-hidden="true">4.1.2.</strong> cmus</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.2.</strong> display-managers
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/display-managers/sddm.html"
                        ><strong aria-hidden="true">4.2.1.</strong> sddm</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.3.</strong> editors</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/editors/neovim.html"
                        ><strong aria-hidden="true">4.3.1.</strong> neovim</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.4.</strong> emulators</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/emulators/wine.html"
                        ><strong aria-hidden="true">4.4.1.</strong> wine</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.5.</strong> file-managers
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/file-managers/ranger.html"
                        ><strong aria-hidden="true">4.5.1.</strong> ranger</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.6.</strong> misc</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/applications/misc/mupdf.html"
                        ><strong aria-hidden="true">4.6.1.</strong> mupdf</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/applications/misc/redshift.html"
                        ><strong aria-hidden="true">4.6.2.</strong> redshift</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/applications/misc/sioyek.html"
                        ><strong aria-hidden="true">4.6.3.</strong> sioyek</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/applications/misc/zathura.html"
                        ><strong aria-hidden="true">4.6.4.</strong> zathura</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">4.7.</strong> networking</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <div>
                        <strong aria-hidden="true">4.7.1.</strong> mailreaders
                      </div>
                    </li>
                    <li>
                      <ol class="section">
                        <li class="chapter-item expanded">
                          <a
                            href="../../../../pkgs/applications/networking/mailreaders/neomutt.html"
                            class="active"
                            ><strong aria-hidden="true">4.7.1.1.</strong>
                            neomutt</a
                          >
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.8.</strong> terminal-emulators
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/terminal-emulators/alacritty.html"
                        ><strong aria-hidden="true">4.8.1.</strong> alacritty</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.9.</strong> version-management
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/version-management/git.html"
                        ><strong aria-hidden="true">4.9.1.</strong> git</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/version-management/git-credential-manager.html"
                        ><strong aria-hidden="true">4.9.2.</strong>
                        git-credential-manager</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">4.10.</strong> window-managers
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/window-managers/i3.html"
                        ><strong aria-hidden="true">4.10.1.</strong> i3</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/applications/window-managers/picom.html"
                        ><strong aria-hidden="true">4.10.2.</strong> picom</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">5.</strong> data</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">5.1.</strong> fonts</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/data/fonts/ipafont.html"
                        ><strong aria-hidden="true">5.1.1.</strong> ipafont</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">6.</strong> development</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">6.1.</strong> libraries</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/development/libraries/fontconfig.html"
                        ><strong aria-hidden="true">6.1.1.</strong>
                        fontconfig</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/development/libraries/pipewire.html"
                        ><strong aria-hidden="true">6.1.2.</strong> pipewire</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">7.</strong> misc</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">7.1.</strong> screensavers
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/misc/screensavers/xss-lock.html"
                        ><strong aria-hidden="true">7.1.1.</strong> xss-lock</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">8.</strong> os-specific</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">8.1.</strong> linux</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/os-specific/linux/alsa-project.html"
                        ><strong aria-hidden="true">8.1.1.</strong>
                        alsa-project</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/os-specific/linux/bluez.html"
                        ><strong aria-hidden="true">8.1.2.</strong> bluez</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/os-specific/linux/iwd.html"
                        ><strong aria-hidden="true">8.1.3.</strong> iwd</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/os-specific/linux/plymouth.html"
                        ><strong aria-hidden="true">8.1.4.</strong> plymouth</a
                      >
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">9.</strong> servers</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">9.1.</strong> x11</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/servers/x11/xorg.html"
                        ><strong aria-hidden="true">9.1.1.</strong> xorg</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <a href="../../../../pkgs/servers/pulseaudio.html"
                    ><strong aria-hidden="true">9.2.</strong> pulseaudio</a
                  >
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">10.</strong> shells</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <a href="../../../../pkgs/shells/fish.html"
                    ><strong aria-hidden="true">10.1.</strong> fish</a
                  >
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded">
              <div><strong aria-hidden="true">11.</strong> tools</div>
            </li>
            <li>
              <ol class="section">
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">11.1.</strong> audio</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/audio/playerctl.html"
                        ><strong aria-hidden="true">11.1.1.</strong>
                        playerctl</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">11.2.</strong> inputmethods
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/inputmethods/ibus.html"
                        ><strong aria-hidden="true">11.2.1.</strong> ibus</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <div>
                        <strong aria-hidden="true">11.2.2.</strong> ibus-engines
                      </div>
                    </li>
                    <li>
                      <ol class="section">
                        <li class="chapter-item expanded">
                          <a
                            href="../../../../pkgs/tools/inputmethods/ibus-engines/ibus-mozc.html"
                            ><strong aria-hidden="true">11.2.2.1.</strong>
                            ibus-mozc</a
                          >
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">11.3.</strong> misc</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/misc/android-tools.html"
                        ><strong aria-hidden="true">11.3.1.</strong>
                        android-tools</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/misc/clipster.html"
                        ><strong aria-hidden="true">11.3.2.</strong> clipster</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/misc/grub.html"
                        ><strong aria-hidden="true">11.3.3.</strong> grub</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/misc/qmk.html"
                        ><strong aria-hidden="true">11.3.4.</strong> qmk</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/misc/tmux.html"
                        ><strong aria-hidden="true">11.3.5.</strong> tmux</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/misc/yubikey-manager.html"
                        ><strong aria-hidden="true">11.3.6.</strong>
                        yubikey-manager</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">11.4.</strong> networking
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/networking/dhcp.html"
                        ><strong aria-hidden="true">11.4.1.</strong> dhcp</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/networking/dhcpcd.html"
                        ><strong aria-hidden="true">11.4.2.</strong> dhcpcd</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/tools/networking/globalprotect-openconnect.html"
                        ><strong aria-hidden="true">11.4.3.</strong>
                        globalprotect-openconnect</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/networking/ifplugd.html"
                        ><strong aria-hidden="true">11.4.4.</strong> ifplugd</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/networking/mullvad.html"
                        ><strong aria-hidden="true">11.4.5.</strong> mullvad</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/tools/networking/openconnect.html"
                        ><strong aria-hidden="true">11.4.6.</strong>
                        openconnect</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/tools/networking/openresolv.html"
                        ><strong aria-hidden="true">11.4.7.</strong>
                        openresolv</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/networking/unbound.html"
                        ><strong aria-hidden="true">11.4.8.</strong> unbound</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">11.5.</strong> package-management
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/tools/package-management/conda.html"
                        ><strong aria-hidden="true">11.5.1.</strong> conda</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/tools/package-management/micromamba.html"
                        ><strong aria-hidden="true">11.5.2.</strong>
                        micromamba</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/tools/package-management/nix.html"
                        ><strong aria-hidden="true">11.5.3.</strong> nix</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a
                        href="../../../../pkgs/tools/package-management/pacman.html"
                        ><strong aria-hidden="true">11.5.4.</strong> pacman</a
                      >
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div><strong aria-hidden="true">11.6.</strong> security</div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/security/browserpass.html"
                        ><strong aria-hidden="true">11.6.1.</strong>
                        browerpass</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/security/gnupg.html"
                        ><strong aria-hidden="true">11.6.2.</strong> gnupg</a
                      >
                    </li>
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/security/pass/index.html"
                        ><strong aria-hidden="true">11.6.3.</strong> pass</a
                      >
                    </li>
                    <li>
                      <ol class="section">
                        <li class="chapter-item expanded">
                          <div>
                            <strong aria-hidden="true">11.6.3.1.</strong>
                            extensions
                          </div>
                        </li>
                        <li>
                          <ol class="section">
                            <li class="chapter-item expanded">
                              <a
                                href="../../../../pkgs/tools/security/pass/extensions/otp.html"
                                ><strong aria-hidden="true">11.6.3.1.1.</strong>
                                pass-otp</a
                              >
                            </li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li class="chapter-item expanded">
                  <div>
                    <strong aria-hidden="true">11.7.</strong> typesetting
                  </div>
                </li>
                <li>
                  <ol class="section">
                    <li class="chapter-item expanded">
                      <a href="../../../../pkgs/tools/typesetting/tectonic.html"
                        ><strong aria-hidden="true">11.7.1.</strong> tectonic</a
                      >
                    </li>
                    <li class="spacer"></li>
                  </ol>
                </li>
              </ol>
            </li>
            <li class="chapter-item expanded"></li>
            <li class="part-title">misc</li>
            <li class="chapter-item expanded">
              <a href="../../../../misc/pace.html"
                ><strong aria-hidden="true">12.</strong> pace</a
              >
            </li>
            <li class="chapter-item expanded">
              <a href="../../../../misc/far.html"
                ><strong aria-hidden="true">13.</strong> far</a
              >
            </li>
          </ol>
        </div>
        <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
      </nav>

      <!-- Track and set sidebar scroll position -->
      <script>
        var sidebarScrollbox = document.querySelector(
          "#sidebar .sidebar-scrollbox",
        );
        sidebarScrollbox.addEventListener(
          "click",
          function (e) {
            if (e.target.tagName === "A") {
              sessionStorage.setItem(
                "sidebar-scroll",
                sidebarScrollbox.scrollTop,
              );
            }
          },
          { passive: true },
        );
        var sidebarScrollTop = sessionStorage.getItem("sidebar-scroll");
        sessionStorage.removeItem("sidebar-scroll");
        if (sidebarScrollTop) {
          // preserve sidebar scroll position when navigating via links within sidebar
          sidebarScrollbox.scrollTop = sidebarScrollTop;
        } else {
          // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
          var activeSection = document.querySelector("#sidebar .active");
          if (activeSection) {
            activeSection.scrollIntoView({ block: "center" });
          }
        }
      </script>

      <div id="page-wrapper" class="page-wrapper">
        <div class="page">
          <div id="menu-bar-hover-placeholder"></div>
          <div id="menu-bar" class="menu-bar sticky">
            <div class="left-buttons">
              <button
                id="sidebar-toggle"
                class="icon-button"
                type="button"
                title="Toggle Table of Contents"
                aria-label="Toggle Table of Contents"
                aria-controls="sidebar"
              >
                <i class="fa fa-bars"></i>
              </button>
              <button
                id="theme-toggle"
                class="icon-button"
                type="button"
                title="Change theme"
                aria-label="Change theme"
                aria-haspopup="true"
                aria-expanded="false"
                aria-controls="theme-list"
              >
                <i class="fa fa-paint-brush"></i>
              </button>
              <ul
                id="theme-list"
                class="theme-popup"
                aria-label="Themes"
                role="menu"
              >
                <li role="none">
                  <button role="menuitem" class="theme" id="light">
                    Light
                  </button>
                </li>
                <li role="none">
                  <button role="menuitem" class="theme" id="rust">Rust</button>
                </li>
                <li role="none">
                  <button role="menuitem" class="theme" id="coal">Coal</button>
                </li>
                <li role="none">
                  <button role="menuitem" class="theme" id="navy">Navy</button>
                </li>
                <li role="none">
                  <button role="menuitem" class="theme" id="ayu">Ayu</button>
                </li>
              </ul>
              <button
                id="search-toggle"
                class="icon-button"
                type="button"
                title="Search. (Shortkey: s)"
                aria-label="Toggle Searchbar"
                aria-expanded="false"
                aria-keyshortcuts="S"
                aria-controls="searchbar"
              >
                <i class="fa fa-search"></i>
              </button>
            </div>

            <h1 class="menu-title">dotfiles</h1>

            <div class="right-buttons">
              <a
                href="../../../../print.html"
                title="Print this book"
                aria-label="Print this book"
              >
                <i id="print-button" class="fa fa-print"></i>
              </a>
              <a
                href="https://github.com/stephen-huan/dotfiles"
                title="Git repository"
                aria-label="Git repository"
              >
                <i id="git-repository-button" class="fa fa-code-fork"></i>
              </a>
              <a
                href="https://github.com/stephen-huan/dotfiles/edit/master/src/pkgs/applications/networking/mailreaders/neomutt.md"
                title="Suggest an edit"
                aria-label="Suggest an edit"
              >
                <i id="git-edit-button" class="fa fa-edit"></i>
              </a>
            </div>
          </div>

          <div id="search-wrapper" class="hidden">
            <form id="searchbar-outer" class="searchbar-outer">
              <input
                type="search"
                id="searchbar"
                name="searchbar"
                placeholder="Search this book ..."
                aria-controls="searchresults-outer"
                aria-describedby="searchresults-header"
              />
            </form>
            <div id="searchresults-outer" class="searchresults-outer hidden">
              <div id="searchresults-header" class="searchresults-header"></div>
              <ul id="searchresults"></ul>
            </div>
          </div>

          <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
          <script>
            document
              .getElementById("sidebar-toggle")
              .setAttribute("aria-expanded", sidebar === "visible");
            document
              .getElementById("sidebar")
              .setAttribute("aria-hidden", sidebar !== "visible");
            Array.from(document.querySelectorAll("#sidebar a")).forEach(
              function (link) {
                link.setAttribute("tabIndex", sidebar === "visible" ? 0 : -1);
              },
            );
          </script>

          <div id="content" class="content">
            <main>
              <h1 id="neomutt">
                <a class="header" href="#neomutt">neomutt</a>
              </h1>
              <p>
                <a href="https://neomutt.org/">neomutt</a> is a mail user agent
                (MUA). More specifically, it lets you read email from the
                terminal. It is possible to download and send mail from mutt
                natively, but I prefer external programs for those functions.
              </p>
              <p>A quick overview:</p>
              <ul>
                <li>
                  downloading mail: <a href="#offlineimap">offlineimap</a>
                </li>
                <li>sending mail: <a href="#msmtp">msmtp</a></li>
                <li>
                  reading mail: neomutt +
                  <a href="/pkgs/applications/editors/neovim.html">neovim</a>
                  (occasional full-screen reading) +
                  <a href="http://w3m.sourceforge.net/">w3m</a> (for html
                  emails)
                </li>
                <li>
                  editing mail:
                  <a href="/pkgs/applications/editors/neovim.html">neovim</a>
                </li>
                <li>indexing mail: <a href="#notmuch">notmuch</a></li>
                <li>
                  encrypting mail:
                  <a href="https://gnupg.org/software/gpgme/index.html">gpg</a>
                </li>
                <li>
                  adding attachments:
                  <a href="/pkgs/applications/file-managers/ranger.html"
                    >ranger</a
                  >
                  <ul>
                    <li>
                      determining what program to use to open attachments:
                      <a href="/pkgs/applications/file-managers/ranger.html"
                        >rifle</a
                      >
                    </li>
                  </ul>
                </li>
                <li>
                  general selector:
                  <a href="https://github.com/junegunn/fzf">fzf</a>
                </li>
              </ul>
              <h2 id="neomutt-1">
                <a class="header" href="#neomutt-1">neomutt</a>
              </h2>
              <p>
                <a href="https://neomutt.org/">neomutt</a> is essentially a
                superset of regular
                <a href="https://gitlab.com/muttmua/mutt/-/wikis/home">mutt</a>
                aiming to fix bugs, collect patches, and in general incite
                development of mutt. It therefore makes sense to use neomutt
                rather than mutt.
              </p>
              <h3 id="general-notes">
                <a class="header" href="#general-notes">General notes</a>
              </h3>
              <p>
                My primary email is gmail, which has its quirks. In particular,
                all emails go into &quot;all mail&quot; (including emails sent
                by you!) and the different &quot;folders&quot; are more like
                <em>tags</em> --- attributes of the emails in all mail. This
                mirrors notmuch nicely but IMAP not so much so there will be a
                few oddities.
              </p>
              <p>
                I use PGP to sign and encrypt email. For more information (and
                tips), see
                <a href="https://stephen-huan.github.io/2021/02/21/email.html"
                  >my website</a
                >.
              </p>
              <p>
                Lastly, I use Google's
                <a href="https://landing.google.com/advancedprotection/"
                  >Advanced Protection</a
                >
                program. Surprisingly enough, one can use command-line tools to
                access mail even with advanced protection on (if you
                authenticate with OAuth2).
              </p>
              <p>With that in mind, the first step is to get mail.</p>
              <h2 id="offlineimap">
                <a class="header" href="#offlineimap">offlineimap</a>
              </h2>
              <p>
                <a href="https://www.offlineimap.org/">offlineimap</a> is used
                to download (and sync!) mail. Note that this is a two-way
                operation: it will update the local repository of mail if there
                are changes in the remote and
                <em
                  >it will also update the remote if there are local
                  changes!</em
                >
                There is a risk of deleting email permanently if you delete
                locally and have offlineimap sync. Run with the
                <code>--dry-run</code> option to see what offlineimap will do
                while testing.
              </p>
              <p>
                offlineimap is configured with Python, unfortunately Python 2.
                There's a
                <a href="https://github.com/OfflineIMAP/offlineimap3"
                  >Python 3 fork</a
                >
                of offlineimap, and the same author also wrote
                <a href="https://github.com/OfflineIMAP/imapfw">imapfw</a>, a
                Python 3 replacement, but the project appears to be dead.
              </p>
              <p>
                In order to authenticate, we must use OAuth2 as mentioned
                before. The specific steps depends on the email provider, but in
                general we need a client id, secret, and refresh token. We can
                redeem the refresh token for an access token, which is what we
                actually use to authenticate. I store these credentials in the
                lightweight PGP-based password manager
                <a href="./pass.html">pass</a>. To generate an access token, we
                could use offlineimap's built-in
                <code>oauth2_refresh_token_eval</code> option but for
                integration with <code>msmtp</code> and caching we might as well
                use our own program:
                <a href="../.dotfiles/config/offlineimap/offlineimap.py"
                  >offlineimap.py</a
                >.
              </p>
              <p>
                Google and Microsoft cover all my email accounts, including
                those which that are not necessarily <code>@gmail.com</code> or
                <code>@hotmail.com</code>. For example, my
                <a href="https://support.cc.gatech.edu/services/e-mail"
                  >Georgia Tech email</a
                >
                ending in <code>@gatech.edu</code> is actually provided by
                Outlook, so I can use
                <a
                  href="https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-v2-protocols"
                  >Microsoft OAuth</a
                >
                to authenticate, without needing to go through Georgia Tech's
                single sign-on authentication portal.
              </p>
              <h3 id="google-oauth">
                <a class="header" href="#google-oauth">Google OAuth</a>
              </h3>
              <p>
                We'll be using the
                <a href="https://github.com/google/gmail-oauth2-tools"
                  >gmail-oauth2-tools</a
                >
                repository as the client library.
              </p>
              <p>
                Follow the instructions
                <a
                  href="https://github.com/OfflineIMAP/offlineimap/blob/e70d3992a0e9bb0fcdf3c94e1edf25a4124dfcd2/offlineimap.conf#L918-L937"
                  >here</a
                >. The Google Cloud Console is pretty poorly designed, so it may
                take some effort to figure out how to create a new project.
              </p>
              <p>
                If you're getting something along the lines of
                <code>KeyError: 'access_token'</code> it might be that the
                refresh token is invalid. This is because Google's
                <a
                  href="https://developers.google.com/identity/protocols/oauth2#expiration"
                  >OAuth policy</a
                >
                restricts the lifespan of a refresh token to 7 days if the app
                is configured for external users and the publishing setting is
                &quot;Testing&quot;, a common situation one would be in for
                personal use. The solution is to press the &quot;PUBLISH
                APP&quot; button on the OAuth consent screen. Although it will
                warn you that &quot;Because you're using one or more sensitive
                scopes, your app registration requires verification by Google.
                Please prepare your app to submit for verification&quot;, you
                don't actually need to verify the app, that just removes the
                warning screen asking the user whether they trust the developer
                while getting a refresh token.
              </p>
              <h3 id="microsoft-oauth">
                <a class="header" href="#microsoft-oauth">Microsoft OAuth</a>
              </h3>
              <p>
                We'll be using the
                <a href="https://msal-python.readthedocs.io/en/latest/">msal</a>
                client library.
              </p>
              <p>
                Follow the instructions to
                <a
                  href="https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app"
                  >create a new application</a
                >
                and
                <a
                  href="https://docs.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth"
                  >add IMAP and SMTP permissions</a
                >. These instructions are a bit verbose, so I'll condense them
                here:
              </p>
              <ol>
                <li>
                  Navigate to the
                  <a href="https://portal.azure.com/">Azure portal</a>
                </li>
                <li>
                  Go to &quot;Azure Active Directory&quot;, either by searching
                  or clicking on the icon
                </li>
                <li>
                  Find &quot;App registrations&quot; in the side bar under
                  &quot;Manage&quot; and press &quot;New registration&quot;
                </li>
                <li>
                  Under &quot;Manage&quot;, select &quot;Authentication&quot;.
                  Use the &quot;Web&quot; platform with a redirect URI of
                  &quot;http://localhost&quot;.
                </li>
                <li>
                  Select &quot;Certificates &amp; secrets&quot; and press
                  &quot;New client secret&quot;. Record the client id and
                  secret.
                </li>
                <li>
                  Select &quot;API Permissions&quot;. Press &quot;Add a
                  permission&quot; and use &quot;Microsoft Graph&quot; with
                  &quot;Delegated permissions&quot;. The permissions we need are
                  <code>offline_access</code> (under OpenId permissions),
                  <code>User.Read</code> (under User),
                  <code>IMAP.AccessAsUser.all</code> (under IMAP) and
                  <code>SMTP.Send</code> (under SMTP).
                </li>
                <li>
                  Depending on the situation, we might need a tenant. For
                  Georgia Tech, this is <code>gtvault.onmicrosoft.com</code>.
                  This value can be found by going to the &quot;Azure Active
                  Directory&quot; page and looking at the value of &quot;Primary
                  domain&quot;. Otherwise, this can be set to
                  <code>common</code>.
                </li>
              </ol>
              <p>
                Something strange Microsoft does is their
                <a
                  href="https://docs.microsoft.com/en-us/azure/active-directory/develop/refresh-tokens"
                  >refresh tokens</a
                >: they give a new refresh token back after every access token
                request, and refresh tokens expire after 90 days. If you were
                authenticating through offlineimap, you might be passing
                <code>oauth2_refresh_token</code> so offlineimap can
                automatically request access tokens. So if you suddenly become
                unable to request access tokens, it might be because of the
                refresh token expiration. <code>offlineimap.py</code> will
                automatically save the refreshed refresh token, but you still
                need to update the client secrets at least every two years
                (since 24 months is the longest possible expiration date for
                client secrets).
              </p>
              <h2 id="msmtp"><a class="header" href="#msmtp">msmtp</a></h2>
              <p>
                With offlineimap configured,
                <a href="https://marlam.de/msmtp/">msmtp</a> works similarly.
                Set the authentication protocol to <code>oauthbearer</code> and
                <code>passwordeval</code> to run the above
                <code>offlineimap.py</code> script, passing in the email. That
                way both <code>offlineimap</code> and <code>msmtp</code> use the
                same cached access token.
              </p>
              <h2 id="notmuch">
                <a class="header" href="#notmuch">notmuch</a>
              </h2>
              <p>
                <a href="https://notmuchmail.org/">notmuch</a> is an email
                indexer, tagger, and searcher. Add a postsync hook to
                <code>offlineimap</code> so tagging happens on new mail. We can
                also use notmuch as an address book by searching the addresses
                of the emails you've received.
              </p>
            </main>

            <nav class="nav-wrapper" aria-label="Page navigation">
              <!-- Mobile navigation buttons -->
              <a
                rel="prev"
                href="../../../../pkgs/applications/misc/zathura.html"
                class="mobile-nav-chapters previous"
                title="Previous chapter"
                aria-label="Previous chapter"
                aria-keyshortcuts="Left"
              >
                <i class="fa fa-angle-left"></i>
              </a>

              <a
                rel="next"
                href="../../../../pkgs/applications/terminal-emulators/alacritty.html"
                class="mobile-nav-chapters next"
                title="Next chapter"
                aria-label="Next chapter"
                aria-keyshortcuts="Right"
              >
                <i class="fa fa-angle-right"></i>
              </a>

              <div style="clear: both"></div>
            </nav>
          </div>
        </div>

        <nav class="nav-wide-wrapper" aria-label="Page navigation">
          <a
            rel="prev"
            href="../../../../pkgs/applications/misc/zathura.html"
            class="nav-chapters previous"
            title="Previous chapter"
            aria-label="Previous chapter"
            aria-keyshortcuts="Left"
          >
            <i class="fa fa-angle-left"></i>
          </a>

          <a
            rel="next"
            href="../../../../pkgs/applications/terminal-emulators/alacritty.html"
            class="nav-chapters next"
            title="Next chapter"
            aria-label="Next chapter"
            aria-keyshortcuts="Right"
          >
            <i class="fa fa-angle-right"></i>
          </a>
        </nav>
      </div>

      <script>
        window.playground_copyable = true;
      </script>

      <script src="../../../../elasticlunr.min.js"></script>
      <script src="../../../../mark.min.js"></script>
      <script src="../../../../searcher.js"></script>

      <script src="../../../../clipboard.min.js"></script>
      <script src="../../../../highlight.js"></script>
      <script src="../../../../book.js"></script>

      <!-- Custom JS scripts -->
    </div>
  </body>
</html>
